# 走勢分析功能 GUI 測試指南

## 🎯 測試目標
驗證新增的走勢分析功能在GUI中的完整工作流程

## 📋 測試前準備

### 1. 確認環境
- ✅ Python 3.10.11
- ✅ Google Generative AI 已安裝 (v0.8.5)
- ✅ Google Cloud AI Platform 已安裝
- ✅ GUI 應用程式已啟動

### 2. 準備 Google API 密鑰
要進行完整測試，您需要：
- Google API 密鑰 (用於 Gemini API)
- 或 Google Cloud 專案 ID (用於 Vertex AI)

**獲取 Google API 密鑰的步驟：**
1. 前往 [Google AI Studio](https://aistudio.google.com/app/apikey)
2. 點擊 "Create API Key"
3. 複製生成的 API 密鑰

## 🧪 測試步驟

### 第一步：切換到走勢分析模式
1. 在GUI主界面上方找到模式選擇區域
2. 點擊 **"走勢分析"** 單選按鈕
3. 確認界面切換正確：
   - 隱藏了策略選擇框架
   - 顯示了數據選擇框架
   - 顯示了走勢分析設置框架
   - 按鈕文字變為 "開始分析"

### 第二步：載入測試數據
1. 在數據選擇區域：
   - 選擇 "使用現有數據"
   - 從下拉選單中選擇任一 CSV 文件（建議選擇 BTCUSDT 相關文件）
   - 點擊 "載入數據" 按鈕
2. 確認數據載入成功（狀態欄顯示載入完成）

### 第三步：配置走勢分析參數
1. 在走勢分析設置框架中：
   - **Google API 密鑰**：輸入您的 API 密鑰
   - **Google 專案 ID**：可以留空（使用 Generative AI）
   - **分析詳細程度**：選擇 "標準"（推薦）

### 第四步：執行分析
1. 點擊 **"開始分析"** 按鈕
2. 觀察分析過程：
   - 狀態欄顯示 "正在進行走勢分析..."
   - 結果區域顯示進度信息
   - 按鈕變為禁用狀態

### 第五步：查看分析結果
1. 等待分析完成（通常需要 10-30 秒）
2. 在結果顯示區域查看：
   - 分析開始信息
   - AI 分析結果（繁體中文）
   - 分析完成時間

## 🔍 測試檢查點

### 界面檢查
- [ ] 模式切換正常
- [ ] 走勢分析框架正確顯示
- [ ] 數據載入功能正常
- [ ] 按鈕狀態切換正確

### 功能檢查
- [ ] API 密鑰驗證正常
- [ ] 數據處理無錯誤
- [ ] AI 分析調用成功
- [ ] 結果格式化正確

### 錯誤處理檢查
- [ ] 空 API 密鑰的錯誤提示
- [ ] 無數據時的錯誤提示
- [ ] API 調用失敗的錯誤處理

## 🧪 進階測試

### 測試不同詳細程度
1. 重複上述步驟，分別測試：
   - **簡要**：應該得到簡化的分析
   - **標準**：應該得到完整的分析
   - **詳細**：應該得到最詳細的分析

### 測試不同數據文件
1. 嘗試載入不同的 CSV 文件
2. 確認分析結果針對不同數據有所變化

### 測試錯誤情況
1. **無 API 密鑰**：不輸入密鑰直接分析
2. **無數據**：不載入數據直接分析
3. **無效 API 密鑰**：輸入錯誤的密鑰

## 📊 預期結果

### 成功的分析結果應包含：
1. **整體趨勢判斷**（上升/下降/橫盤）
2. **關鍵支撐和阻力位分析**
3. **技術指標解讀**
4. **風險評估**
5. **短期展望**
6. **交易建議**（僅供參考）

### 結果格式：
- 使用繁體中文
- 結構化呈現（標題、小標題）
- 專業的技術分析語言
- 包含具體的價格數據

## 🚨 常見問題排除

### 問題1：API 調用失敗
**可能原因：**
- API 密鑰無效或過期
- 網路連接問題
- API 配額用盡

**解決方案：**
- 檢查 API 密鑰是否正確
- 確認網路連接
- 檢查 Google Cloud 配額

### 問題2：分析結果為空
**可能原因：**
- 數據格式問題
- AI 模型回應異常

**解決方案：**
- 嘗試不同的數據文件
- 重新執行分析

### 問題3：界面無回應
**可能原因：**
- 分析過程中界面凍結
- 異步處理問題

**解決方案：**
- 等待分析完成
- 重啟應用程式

## 📝 測試報告模板

```
測試日期：____
測試人員：____

基本功能測試：
□ 模式切換：通過/失敗
□ 數據載入：通過/失敗  
□ 參數設置：通過/失敗
□ 分析執行：通過/失敗
□ 結果顯示：通過/失敗

進階功能測試：
□ 簡要分析：通過/失敗
□ 標準分析：通過/失敗
□ 詳細分析：通過/失敗

錯誤處理測試：
□ 無API密鑰：通過/失敗
□ 無數據：通過/失敗
□ 網路錯誤：通過/失敗

總體評價：____
建議改進：____
```

## 🎉 測試完成後

如果所有測試都通過，恭喜！走勢分析功能已經成功整合到您的交易機器人中。

下一步可以考慮：
1. 添加結果保存功能
2. 實現分析歷史記錄
3. 優化UI界面
4. 添加更多技術指標
